# Как работать над проектом

## Окружение

Для удобства работы над проектом используются инструменты из **Node.js** и **npm**. Все необходимые настройки произведены. Убедитесь, что на рабочем компьютере установлен актуальный LTS релиз Node.js**. Актуальная версия **Node.js** указана в файле `package.json` в поле `node`. Затем, в терминале, перейдите в директорию с проектом и _единожды_ запустите команду:

```bash
npm install
```

Команда запустит процесс установки зависимостей проекта из **npm**.

### Сценарии

В `package.json` предопределено несколько сценариев.

#### Скомпилировать проект

```bash
npm run compile
```

Создаст директорию `dist` и скомпилирует проект.

#### Удалить скомпилированный проект

```bash
npm run clean
```

Удаляет директорию `dist`. Используется перед компиляцией.

#### Собрать проект

```bash
npm run build
```

Выполняет сборку проекта: удаляет ранее скомпилированный проект и компилирует заново.

#### Проверить линтером

```bash
npm run lint
```

Запуск проверки проекта статическим анализатором кода **ESLint**.

Линтер проверяет файлы только внутри директории `src`.

**Обратите внимание**, при запуске данной команды, ошибки выводятся в терминал.

#### Запустить ts-модуль без компиляции

```bash
npm run ts -- <Путь к модулю с ts-кодом>
```

Пакет `ts-node` позволяет выполнить TS-код в Node.js без предварительной компиляции. Используется только на этапе разработки.

#### Запустить проект

```bash
npm run start
```
#### Импорт пользователей и обявлений в docker

в терминале (должны находиться в папке с приложением) пишим команду
```bash
npm run buildee 
```
- устанавливает приложение в директорию dist
```bash
chmod u+x ./dist/cli/main.cli.js 
```
- регистрирует кли приложение

#### запустим сервер джисон в отдельном терминале (должны находиться в папке с приложением)
```bash
npm run mock:server
```
#### возвращаемься в предведущий терминал пишим команду
```bash
./dist/cli/main.cli.js --generate 10 ./mocks/ten-mock.tsv http://localhost:3131/api 
```
-создаем 10 обявлений в файле ./mocks/ten-mock.tsv с сервера http://localhost:3131/api

#### теперь загужаем файлы из ./mocks/ten-mock.tsv на сервер должен быть запужен Docker
```bash
docker compose up
```
установка контенеров в docker

```bash
./dist/cli/main.cli.js --import ./mocks/ten-mock.tsv admin test localhost six-sity-mongodb secret
```
перенос созданых обявлений в докер

#### старт основного приложения
```bash
npm run start
```



#### установить зависимости
```bash
npm i
```
файл .env

#### в корне проекта создать файл .env и заполнить его по примеру фала .env-example
